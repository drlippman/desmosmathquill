<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=624" />

    <title>MathQuill-basic Demo</title>

    <link rel="stylesheet" type="text/css" href="support/home.css" />
    <link rel="stylesheet" type="text/css" href="../build/mathquill-basic.css" />
  </head>
  <body>
    <div id="body">
      
      <h1>
        <a href="http://mathquill.github.com">MathQuill</a>-basic Demo
        <small>local test page</small>
      </h1>


      <p><span id="basic"></span></p>

      <p><textarea id="basic-latex"></textarea></p>

      <p>
        <button onclick="mq.write('x')">x write</button>
        <button onclick="mq.cmd('sin')">sin cmd</button>
        <button onclick="mq.typedText('x')">x typed</button>
      </p>
    </div>

    <script type="text/javascript" src="support/jquery-1.5.2.js"></script>
    <script type="text/javascript" src="../build/mathquill.js"></script>
    <script type="text/javascript">
      MQ = MathQuill.getInterface(MathQuill.getInterface.MAX);

      var latex = $('#basic-latex').bind('keydown keypress', function () {
        var prev = latex.val();
        setTimeout(function () {
          var now = latex.val();
          if (now !== prev) mq.latex(now);
        });
      });
      var mq = MQ.MathField($('#basic')[0], {
        tabindex: -1,
        autoSubscriptNumerals: true,
        autoSubscriptBrackets: true,
        quickPlusMinus: true,
        charsThatBreakOutOfSupSub: '=<>',
        charsThatBreakOutOfSupSubVar: "+-(",
        charsThatBreakOutOfSupSubOp: "+-(",
        restrictMismatchedBrackets: true,
        autoCommands: 'pi theta root sqrt ^oo degree',
        autoParenOperators: true,
        addCommands: {'oo': ['VanillaSymbol', '\\infty ', '&infin;'], 
                      'xor': ['VanillaSymbol', '\\oplus ', '&oplus;'], 
                      'uu': ['VanillaSymbol', '\\cup ', '&cup;'], 
                      'nn': ['VanillaSymbol', '\\cap ', '&cap;'],
                      'rightleftharpoons': ['BinaryOperator', '\\rightleftharpoons ', '&rlhar;']},
        handlers: {
          edit: function () {
            if (!latex.is(':focus')) latex.val(mq.latex());
          }
        }
      });
      latex.val(mq.latex());
      mq.config({ tabindex: 0 });
    </script>
  </body>
</html>
